{"version":3,"file":"static/js/135.cb41cf35.chunk.js","mappings":"kSACA,EAA0B,8BAA1B,EAA8D,0BAA9D,EAAgG,4BAAhG,EAAuI,+BAAvI,EAA+K,6BAA/K,EAAmN,2B,SCqFnN,EA/EqB,WAAO,IAAD,EACvB,GAA0BA,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAKQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,MACXC,GAAO,UAAAF,EAASN,aAAT,eAAgBQ,OAAQ,WAErCC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAe,mCAAG,oGAEhBT,GAAS,SAAAU,GAAS,yBACXA,GADW,IAEdb,SAAS,EACTC,MAAO,MAHO,IAFF,UAQGa,EAAAA,EAAAA,IAAkBV,GARrB,OAQVW,EARU,OAShBZ,GAAS,SAAAU,GAAS,yBACPA,GADO,IAEVd,MAAM,GAAD,eAAMc,EAAUd,OAAhB,CAAuBgB,KAFlB,IATF,gDAchBZ,GAAS,SAAAU,GAAS,yBACXA,GADW,IAEdZ,MAAK,MAFS,IAdF,yBAmBhBE,GAAS,SAAAU,GACL,OAAO,kBACAA,GADP,IAEIb,SAAS,GAEhB,IAxBe,4EAAH,qDA2BrBY,GACH,GAAE,CAACR,IAEJ,IAAQL,EAAUG,EAAVH,MAER,OACI,iBAAKiB,UAAWC,EAAhB,WACI,mBAAQD,UAAWC,EAASC,QAvCrB,kBAAMZ,EAASE,EAASN,MAAMQ,KAA9B,EAuCP,sBACA,wBACKX,EAAMoB,KAAI,SAAAC,GAAI,OACX,2BACI,gBACIC,MAAM,QACNC,IACIF,EAAKG,YAAL,yCACwCH,EAAKG,aACvCC,EAEVC,IAAKL,EAAKM,SAEd,wBAAKN,EAAKM,SACV,eAAGV,UAAWC,EAAd,yBAAsCU,KAAKC,MAAOR,EAAKS,aAAe,GAAM,KAA5E,QACA,sCACA,cAAGb,UAAWC,EAAd,SAA6BG,EAAKU,YAClC,oCACA,eAAGd,UAAWC,EAAd,UACK,IACAG,EAAKW,OAAOZ,KAAI,SAAAC,GAAI,OAAIA,EAAKY,IAAT,IAAeC,KAAK,WAjBxCb,EAAKhB,GADH,OAuBnB,SAAC,KAAD,CAAMY,UAAWC,EAAUf,MAAO,CAAEQ,KAAAA,GAAQwB,GAAE,kBAAa9B,EAAb,SAA9C,mBACA,SAAC,KAAD,CAAMY,UAAWC,EAAUf,MAAO,CAAEQ,KAAAA,GAAQwB,GAAE,kBAAa9B,EAAb,YAA9C,sBACA,SAAC,KAAD,MAGX,C,2MClFK+B,EAAM,mCACNC,EAAW,+BAEV,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,+FACGC,EADH,UACYF,EADZ,uCACmDD,EADnD,gDAEoBI,IAAAA,IAAUD,GAF9B,uBAEKvB,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,kEAME,SAAeD,EAAtB,+CAAO,OAAP,oBAAO,WAAiCV,GAAjC,kFACCkC,EADD,UACUF,EADV,kBAC4BhC,EAD5B,oBAC0C+B,EAD1C,gDAEkBI,IAAAA,IAAUD,GAF5B,uBAEGvB,EAFH,EAEGA,KAFH,kBAGEA,GAHF,kEAMF,SAAeyB,EAAtB,+CAAO,OAAP,oBAAO,WAAgCC,GAAhC,kFACKH,EADL,UACcF,EADd,iCAC+CD,EAD/C,kBAC4DM,EAD5D,gDAEsBF,IAAAA,IAAUD,GAFhC,uBAEOvB,EAFP,EAEOA,KAFP,kBAGMA,GAHN,kEAME,SAAe2B,EAAtB,+CAAO,OAAP,oBAAO,WAA8BtC,GAA9B,kFACCkC,EADD,UACUF,EADV,kBAC4BhC,EAD5B,4BACkD+B,EADlD,gDAEkBI,IAAAA,IAAUD,GAF5B,uBAEGvB,EAFH,EAEGA,KAFH,kBAGEA,GAHF,kEAMA,SAAe4B,EAAtB,+CAAO,OAAP,oBAAO,WAAiCvC,GAAjC,kFACCkC,EADD,UACUF,EADV,kBAC4BhC,EAD5B,4BACkD+B,EADlD,gDAEkBI,IAAAA,IAAUD,GAF5B,uBAEGvB,EAFH,EAEGA,KAFH,kBAGEA,GAHF,kE,u8LCzBM,SAAS6B,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,EAClD,CDES,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAMpC,KAAKuC,EACtH,CFGmC,CAAgBJ,KAAQ,EAAAO,EAAA,GAA2BP,IGLvE,WACb,MAAM,IAAIQ,UAAU,uIACtB,CHG8F,EAC9F,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","shared/Api/fetchApi.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"btn\":\"MovieDetails_btn__7L5IF\",\"score\":\"MovieDetails_score__p8Kk2\",\"overview\":\"MovieDetails_overview__U5Vnb\",\"genres\":\"MovieDetails_genres__Pnmgt\",\"link\":\"MovieDetails_link__U+v+7\"};","import { useState, useEffect } from \"react\";\nimport { Link, Outlet, useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport { fetchMovieDetails } from \"shared/Api/fetchApi\";\nimport no_poster from \"../../images/no-poster.jpg\";\nimport css from \"../MovieDetails/MovieDetails.module.css\";\n\n\nconst MovieDetails = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    });\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const goBack = () => navigate(location.state.from);\n    const location = useLocation();\n    const from = location.state?.from || '/movies';\n\n    useEffect(() => {\n        const getMovieDetails = async () => {\n            try {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: true,\n                    error: null,\n                }));\n                \n                const data = await fetchMovieDetails(id);\n                setState(prevState => ({\n                        ...prevState,\n                        items: [...prevState.items, data],\n                }));\n            } catch (error) {\n                setState(prevState => ({\n                    ...prevState,\n                    error,\n                }));\n            } finally {\n                setState(prevState => {\n                    return {\n                        ...prevState,\n                        loading: false,\n                    };\n                });\n            }\n        };\n        getMovieDetails();\n    }, [id]);\n\n    const { items } = state;\n        \n    return (\n        <div className={css.wrapper}>\n            <button className={css.btn} onClick={goBack}>Go back</button>\n            <ul>\n                {items.map(item => (\n                    <li key={item.id}>\n                        <img\n                            width=\"400px\"\n                            src={\n                                item.poster_path\n                                    ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                                    : no_poster\n                            }\n                            alt={item.title}\n                        />\n                        <h2>{item.title}</h2>\n                        <p className={css.score}>User score: {Math.round((item.vote_average / 10) * 100)}%</p>\n                        <h3>Overview</h3>\n                        <p className={css.overview}>{item.overview}</p>\n                        <h3>Genres</h3>\n                        <p className={css.genres}>\n                            {' '}\n                            {item.genres.map(item => item.name).join(', ')}\n                        </p>\n                    </li>\n                ))}\n            </ul>\n            <Link className={css.link} state={{ from }} to={`/movies/${id}/cast`}>Cast</Link>\n            <Link className={css.link} state={{ from }} to={`/movies/${id}/reviews`}>Reviews</Link>\n            <Outlet />\n        </div>\n    );\n};\n\nexport default MovieDetails;","import axios from \"axios\";\n\nconst KEY = '979be2e8af6c311d4581ad02e7161f2f';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function fetchTrending() {\n    const url = `${BASE_URL}/trending/movie/day?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n  }\n  \n  export async function fetchMovieDetails(id) {\n    const url = `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n}\n  \nexport async function fetchSearchMovie(query) {\n      const url = `${BASE_URL}/search/movie?api_key=${KEY}&query=${query}&language=en-US&include_adult=false`;\n      const { data } = await axios.get(url);\n      return data;\n    }\n  \n  export async function fetchMovieCast(id) {\n    const url = `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n  }\n  \n  export async function fetchMovieReviews(id) {\n    const url = `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n  }\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["useState","items","loading","error","state","setState","id","useParams","navigate","useNavigate","location","useLocation","from","useEffect","getMovieDetails","prevState","fetchMovieDetails","data","className","css","onClick","map","item","width","src","poster_path","no_poster","alt","title","Math","round","vote_average","overview","genres","name","join","to","KEY","BASE_URL","fetchTrending","url","axios","fetchSearchMovie","query","fetchMovieCast","fetchMovieReviews","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}