{"version":3,"file":"static/js/316.6214746b.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieSearchForm/MovieSearchForm.module.css?70b3","components/MovieSearchForm/MovieSearchForm.jsx","pages/Movies/Movies.jsx","shared/Api/fetchApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"movie\":\"MoviesList_movie__gS8QL\"};","import { Link, useLocation } from \"react-router-dom\";\nimport no_poster from \"../../images/no-poster.jpg\";\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ items }) => {\n    const location = useLocation();\n    const elements = items.map(({ id, title, poster_path }) =>\n    (<li key={id} className={css.item}>\n        <Link className={css.movie} state={{ from: location }} to={`/movies/${id}`}>\n            <img width=\"200px\" src={poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : no_poster} alt={title} />\n            <p>{title}</p>\n        </Link>\n    </li>));\n    return <ul className={css.list}>{elements}</ul>\n};\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n    items: [],\n};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MovieSearchForm_form__PD1EN\",\"input\":\"MovieSearchForm_input__L3jrA\",\"btn\":\"MovieSearchForm_btn__akjwk\"};","import { useState } from \"react\";\nimport css from './MovieSearchForm.module.css'\n\nconst MovieSearchForm = ({ onSubmit }) => {\n    const [state, setState] = useState({\n        query: \"\",\n    });\n\n    const handleChange = ({ target }) => {\n        const { name, value } = target;\n        setState({\n            ...state,\n            [name]: value,\n        })\n    };\n\n    const handleSubmit = (e) => {\n        e.preventdefault();\n        onSubmit({ ...state });\n        setState({\n            query: \"\",\n        })\n    };\n\n    return (\n        <form className={css.form} onSubmit={handleSubmit}>\n            <input className={css.input} name=\"query\" value={state.query} onChange={handleChange} placeholder=\"Search movie\" required />\n            <button className={css.btn} type=\"submit\">Search</button>\n        </form>\n    );\n};\n\nexport default MovieSearchForm;","import { useState, useEffect } from \"react\";\nimport { fetchSearchMovie } from \"shared/Api/fetchApi\";\nimport { useSearchParams } from \"react-router-dom\";\nimport Loader from \"components/Loader/Loader\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport MovieSearchForm from \"components/MovieSearchForm/MovieSearchForm\";\nimport MoviesList from \"components/MoviesList/MoviesList\";\n\nconst Movies = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    });\n\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('query');\n\n    useEffect(() => {\n        const getSearchMovie = async () => {\n            try {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: false,\n                }));\n                const data = await fetchSearchMovie(query);\n                if (data.total_result === 0) {\n                    setState({ error: toast.info(`No results for ${query}`) });\n                }\n                setState(prevState => ({\n                    ...prevState,\n                    items: data.results,\n                }));\n            } catch (error) {\n                setState(toast.error('Something went wrong...'));\n            } finally {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: false,\n                }));\n            }\n        };\n\n        if (query) {\n            getSearchMovie()\n        }\n    }, [query]);\n\n    const changeSearch = ({ query }) => {\n        setSearchParams({query});\n    }\n\n    const { items, loading } = state;\n\n    return (\n        <div>\n            <ToastContainer autoClose={1500} position=\"top-center\" closeOnClick />\n            <MovieSearchForm onSubmit={changeSearch} />\n            {items.length > 0 && <MoviesList items={items} />}\n            {loading && <Loader/>}\n        </div>\n    )\n}\n\nexport default Movies;","import axios from \"axios\";\n\nconst KEY = '979be2e8af6c311d4581ad02e7161f2f';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport async function fetchTrending() {\n    const url = `${BASE_URL}/trending/movie/day?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n  }\n  \n  export async function fetchMovieDetails(id) {\n    const url = `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n}\n  \nexport async function fetchSearchMovie(query) {\n      const url = `${BASE_URL}/search/movie?api_key=${KEY}&query=${query}&language=en-US&include_adult=false`;\n      const { data } = await axios.get(url);\n      return data;\n    }\n  \n  export async function fetchMovieCast(id) {\n    const url = `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n  }\n  \n  export async function fetchMovieReviews(id) {\n    const url = `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US&include_adult=false`;\n    const { data } = await axios.get(url);\n    return data;\n  }\n"],"names":["MoviesList","items","location","useLocation","elements","map","id","title","poster_path","className","css","state","from","to","width","src","no_poster","alt","defaultProps","onSubmit","useState","query","setState","e","preventdefault","name","value","onChange","target","placeholder","required","type","loading","error","useSearchParams","searchParams","setSearchParams","get","useEffect","getSearchMovie","prevState","fetchSearchMovie","data","total_result","toast","results","autoClose","position","closeOnClick","length","Loader","KEY","BASE_URL","fetchTrending","url","axios","fetchMovieDetails","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}